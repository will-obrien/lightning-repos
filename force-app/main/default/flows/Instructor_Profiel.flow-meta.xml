<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <interviewLabel>Instructor Profiel {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Instructor Profiel</label>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_re</name>
        <label>Create re</label>
        <locationX>803</locationX>
        <locationY>204</locationY>
        <inputAssignments>
            <field>ContactId</field>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
        </inputAssignments>
        <inputAssignments>
            <field>IsActive</field>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
        </inputAssignments>
        <inputAssignments>
            <field>PortalRole</field>
        </inputAssignments>
        <inputAssignments>
            <field>ProfileId</field>
        </inputAssignments>
        <inputAssignments>
            <field>UserRoleId</field>
        </inputAssignments>
        <inputAssignments>
            <field>Username</field>
        </inputAssignments>
        <object>User</object>
    </recordCreates>
    <recordLookups>
        <name>Get_Account_Contact_Relationship</name>
        <label>Get Account Contact Relationship</label>
        <locationX>229</locationX>
        <locationY>84</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>frmAccount</elementReference>
            </value>
        </filters>
        <filters>
            <field>ContactId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>frmAccount</elementReference>
            </value>
        </filters>
        <object>AccountContactRelation</object>
        <outputReference>sAccountContactRelation</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>AccountId</queriedFields>
        <queriedFields>ContactId</queriedFields>
        <queriedFields>IsActive</queriedFields>
        <queriedFields>Roles</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Contact</name>
        <label>Get Contact</label>
        <locationX>223</locationX>
        <locationY>209</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>frmContact</elementReference>
            </value>
        </filters>
        <object>Contact</object>
        <outputReference>sContact</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Profile</name>
        <label>Get Profile</label>
        <locationX>595</locationX>
        <locationY>201</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filters>
            <field>UserLicenseId</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>1</stringValue>
            </value>
        </filters>
        <object>Profile</object>
        <outputReference>sProfile</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_User_Role</name>
        <label>Get User Role</label>
        <locationX>402</locationX>
        <locationY>206</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <filters>
            <field>PortalAccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sAccountContactRelation.AccountId</elementReference>
            </value>
        </filters>
        <object>UserRole</object>
        <outputReference>sUserRole</outputReference>
        <queriedFields>PortalAccountId</queriedFields>
        <queriedFields>DeveloperName</queriedFields>
        <queriedFields>ParentRoleId</queriedFields>
        <queriedFields>PortalRole</queriedFields>
        <queriedFields>PortalType</queriedFields>
        <queriedFields>RollupDescription</queriedFields>
    </recordLookups>
    <status>InvalidDraft</status>
    <variables>
        <name>frmAccount</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>frmContact</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
    </variables>
    <variables>
        <name>sAccountContactRelation</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>AccountContactRelation</objectType>
    </variables>
    <variables>
        <name>sContact</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Contact</objectType>
    </variables>
    <variables>
        <name>sProfile</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Profile</objectType>
    </variables>
    <variables>
        <name>sUserRole</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>UserRole</objectType>
    </variables>
</Flow>
